- name: install tc package for kubernetes
  package:
    name: "{{ item }}"
    state: present
  loop:
    - iproute
    - iproute-tc  

- name: install the kubeadm package for install
  package:
    name: "{{ item }}-{{ k8s_version }}"
    state: present
  loop:
    - kubeadm
    - kubelet
    - kubectl

- name: install the CNI package for install
  package:
    name: "kubernetes-cni-{{ k8s_cni_version }}"
    state: present
  loop:
    - kubernetes-cni
 
- name: install the selinux packages
  package:
    name: "{{ item }}"
  loop:
    - python3-libselinux
    - python3-libsemanage
