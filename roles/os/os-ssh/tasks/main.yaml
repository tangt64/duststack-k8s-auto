- name: generate to ssh key for private and public
  community.crypto.openssh_keypair:
    path: "{{ k8s_private_rsa_locate }}"
    force: True  
  delegate_to: localhost
  
- name: copy the public ssh key file for none-root user
  authorized_key:
    user: "{{ }}"
    key: "{{ lookup('file', '/home/' + lookup('env', 'USER') + '/.ssh/id_rsa.pub') }}"
  delegate_to: localhost
  when: {{ ansible_facts['ansible_env']['user'] }} is not root

- name: copy the public ssh key file for root user
  authorized_key:
    user: "{{ }}"
    key: "{{ lookup('file', '/root/' + '/.ssh/id_rsa.pub') }}"
  delegate_to: localhost
  when: {{ ansible_facts['ansible_env']['user'] }} is root