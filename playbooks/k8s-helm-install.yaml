- name: install helm on the master node
  hosts: "{{ groups['k8s_master'] | first }}"
  roles:
    - { role: extension-helm/base }
    - { role: extension-helm/metrics, when: enabled_metrics == "enable" }
#   - { role: extension-helm/ingress-haproxy, when: enabled_haproxy == "enable" }
#   - { role: extension-helm/ingress-nginx, when: enabled_nginx == "enable" }

- name: install extension compoments
  hosts: k8s_master
  tags: k8s-extension
  roles:
    - { role: extension-ingress, when: enabled_ingress == "enable" }